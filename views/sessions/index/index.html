<!DOCTYPE html>
<html lang="en">
<head>
  <title>Session</title>
  
  <style>
    #peekaboo {
      float:left;
      height:300px;
      width:300px;
    }
      #peekaboo:after {
        clear:left;
      }
    #info {
      margin-left:325px;
    }
  </style>
</head>
<body>
  <h1 id="sessionName">Session Name</h1>
  <div>
    <div id="peekaboo">
      <div id="content">
      </div>
      <form id="sessionJoin" action="/sessions/join/#{id}" method="post">
        <input type="submit" value="Join Session">
      </form>
    </div>
    <div id="info">
      <h2 class="author">by Anonymous</h2>
      <p class="time">at 12:32 PM</p>
      <p class="browser">Chrome 10.0</p>
      <p class="os">Windows 7.0</p>
      <p class="dimensions">1024 x 768</p>
    </div>
  </div>
  <script src="/js/jquery.min.js"></script>
  <script src="/socket.io/socket.io.js"></script> 
  <script>
    (function($) {
      (function ($sessionJoin) {
        var socket = new io.Socket('localhost', {
          port: 8000
        });
        
        socket.on('message', function(message) {
          console.log(message);
        });

        $sessionJoin.submit(function(evt) {
          socket.connect();
          socket.send({
            command: $sessionJoin.attr('action')
          });
          evt.preventDefault();
        });
      })($('#sessionJoin'));
    })(jQuery);
  </script>
</body>
</html>
